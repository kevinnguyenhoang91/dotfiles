session_name: devops
start_directory: /Volumes/DATA/Projects_GHN
# before_script: ./scripts/poetry-before-script.sh
# shell_command_before:
#   - poetry install --no-interaction --no-ansi --quiet
#   - source $(poetry env info -p)/bin/activate; reset
windows:
  - focus: "true"
    layout: main-horizontal
    panes:
      - focus: "true"
        shell_command:
          - printf '\033]2;%s\033\\' 'nvim'
          - nvim -c 'lua require("persistence").load()'
      - shell_command:
          - printf '\033]2;%s\033\\' 'ghn-platforms-test (k9s)'
          - k9s --context gke_ghn-platforms_asia-southeast1_ghn-platforms-test -A -c "argoproj.io/v1alpha1/applications /fe-mobile-platform"
      - shell_command:
          - printf '\033]2;%s\033\\' 'ghn-platforms-prod (k9s)'
          - k9s  --context gke_ghn-platforms_asia-southeast1_ghn-platforms-prod -A -c "argoproj.io/v1alpha1/applications /fe-mobile-platform"
      - shell_command:
          - printf '\033]2;%s\033\\' 'fpt-k8s-stag-devops (k9s)'
          - k9s  --context fpt-k8s-stag-devops -A -c "dp"
    start_directory: ./ghn-iac
    window_name: ghn-iac
    options:
      main-pane-height: 67%
  - layout: main-horizontal
    panes:
      - focus: "true"
        shell_command:
          - printf '\033]2;%s\033\\' 'nvim'
          - nvim -c 'lua require("persistence").load()'
    start_directory: ./gitlab-cicd
    window_name: devops-gitlab-cicd
    options:
      main-pane-height: 67%
  - layout: main-horizontal
    panes:
      - focus: "true"
        shell_command:
          - printf '\033]2;%s\033\\' 'nvim'
          - nvim -c 'lua require("persistence").load()'
    start_directory: ./platform-gitlab-cicd
    window_name: platform-gitlab-cicd
    options:
      main-pane-height: 67%
  - layout: main-horizontal
    panes:
      - focus: "true"
        shell_command:
          - printf '\033]2;%s\033\\' 'nvim'
          - nvim -c 'lua require("persistence").load()'
    start_directory: ./gitlab-ci-image
    window_name: gitlab-ci-image
    options:
      main-pane-height: 67%
  - layout: main-horizontal
    panes:
      - focus: "true"
        shell_command:
          - printf '\033]2;%s\033\\' 'nvim'
          - devcontainer up --workspace-folder . --dotfiles-repository https://github.com/matheusfvesco/devcontainers-dotfiles.git && devcontainer exec --workspace-folder . zsh
    start_directory: ./ghn-iac
    window_name: ghn-iac (devcontainer)
    options:
      main-pane-height: 67%
